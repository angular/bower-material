/*!
 * AngularJS Material Design
 * https://github.com/angular/material
 * @license MIT
 * v1.1.12-master-251cfed
 */
goog.provide("ngmaterial.components.fabShared"),goog.require("ngmaterial.core"),function(){"use strict";function n(e,r,o,c,l,t){var a,s=this,n=0;function d(n){"click"==n.type&&function(n){e=n.target,c.getClosest(e,"md-fab-trigger")&&s.toggle();var e;t=n.target,c.getClosest(t,"md-fab-actions")&&s.close();var t}(n),"focusout"!=n.type||a||(a=t(function(){s.close()},100,!1)),"focusin"==n.type&&a&&(t.cancel(a),a=null)}function u(){s.currentActionIndex=-1}function m(){0<r[0].scrollHeight?o.addClass(r,"_md-animations-ready").then(function(){r.removeClass("md-animations-waiting")}):n<10&&(t(m,100),n+=1)}function f(){r.off("keydown",p),angular.element(document).off("click touchend",g)}function g(n){if(n.target){var e=c.getClosest(n.target,"md-fab-trigger"),t=c.getClosest(n.target,"md-fab-actions");e||t||s.close()}}function p(n){switch(n.which){case l.KEY_CODE.ESCAPE:return s.close(),n.preventDefault(),!1;case l.KEY_CODE.LEFT_ARROW:return i=n,"left"===s.direction?v(i):h(i),!1;case l.KEY_CODE.UP_ARROW:return a=n,"down"===s.direction?h(a):v(a),!1;case l.KEY_CODE.RIGHT_ARROW:return t=n,"left"===s.direction?h(t):v(t),!1;case l.KEY_CODE.DOWN_ARROW:return e=n,"up"===s.direction?h(e):v(e),!1}var e,t,a,i}function h(n){i(n,-1)}function v(n){i(n,1)}function i(n,e){var t,a=(t=b()[0].querySelectorAll(".md-fab-action-item"),angular.forEach(t,function(n){angular.element(angular.element(n).children()[0]).attr("tabindex",-1)}),t);s.currentActionIndex=s.currentActionIndex+e,s.currentActionIndex=Math.min(a.length-1,s.currentActionIndex),s.currentActionIndex=Math.max(0,s.currentActionIndex);var i=angular.element(a[s.currentActionIndex]).children()[0];angular.element(i).attr("tabindex",0),i.focus(),n.preventDefault(),n.stopImmediatePropagation()}function b(){return r.find("md-fab-actions")}s.open=function(){e.$evalAsync("vm.isOpen = true")},s.close=function(){e.$evalAsync("vm.isOpen = false"),r.find("md-fab-trigger")[0].focus()},s.toggle=function(){e.$evalAsync("vm.isOpen = !vm.isOpen")},s.$onInit=function(){var n,a,i;s.direction=s.direction||"down",s.isOpen=s.isOpen||!1,u(),r.addClass("md-animations-waiting"),n=["click","focusin","focusout"],angular.forEach(n,function(n){r.on(n,d)}),e.$on("$destroy",function(){angular.forEach(n,function(n){r.off(n,d)}),f()}),e.$watch("vm.direction",function(n,e){o.removeClass(r,"md-"+e),o.addClass(r,"md-"+n),u()}),e.$watch("vm.isOpen",function(n){u(),a&&i||(a=r.find("md-fab-trigger"),i=b()),n?(r.on("keydown",p),c.nextTick(function(){angular.element(document).on("click touchend",g)})):f();var e=n?"md-is-open":"",t=n?"":"md-is-open";a.attr("aria-haspopup",!0),a.attr("aria-expanded",n),i.attr("aria-hidden",!n),o.setClass(r,e,t)}),m()},1===angular.version.major&&angular.version.minor<=4&&this.$onInit()}n.$inject=["$scope","$element","$animate","$mdUtil","$mdConstant","$timeout"],angular.module("material.components.fabShared",["material.core"]).controller("MdFabController",n)}(),function(){"use strict";n.$inject=["$timeout"],e.$inject=["$timeout"];var t=300;function n(e){function a(n){e(n,t,!1)}function i(n){if(!n.hasClass("md-animations-waiting")||n.hasClass("_md-animations-ready")){var e=n[0],l=n.controller("mdFabSpeedDial"),a=e.querySelectorAll(".md-fab-action-item"),s=e.querySelector("md-fab-trigger"),t=e.querySelector("._md-css-variables"),i=parseInt(window.getComputedStyle(t).zIndex);angular.forEach(a,function(n,e){var t=n.style;t.transform=t.webkitTransform="",t.transitionDelay="",t.opacity=1,t.zIndex=a.length-e+i}),s.style.zIndex=i+a.length+1,l.isOpen||angular.forEach(a,function(n,e){var t,a,i=n.style,r=(s.clientHeight-n.clientHeight)/2,o=(s.clientWidth-n.clientWidth)/2;switch(l.direction){case"up":t=n.scrollHeight*(e+1)+r,a="Y";break;case"down":t=-(n.scrollHeight*(e+1)+r),a="Y";break;case"left":t=n.scrollWidth*(e+1)+o,a="X";break;case"right":t=-(n.scrollWidth*(e+1)+o),a="X"}var c="translate"+a+"("+t+"px)";i.transform=i.webkitTransform=c})}}return{addClass:function(n,e,t){n.hasClass("md-fling")?(i(n),a(t)):t()},removeClass:function(n,e,t){i(n),a(t)}}}function e(e){function a(n){e(n,t,!1)}function i(n){var e=n[0],i=n.controller("mdFabSpeedDial"),r=e.querySelectorAll(".md-fab-action-item"),t=e.querySelector("._md-css-variables"),o=parseInt(window.getComputedStyle(t).zIndex);angular.forEach(r,function(n,e){var t=n.style,a=65*e;t.opacity=i.isOpen?1:0,t.transform=t.webkitTransform=i.isOpen?"scale(1)":"scale(0)",t.transitionDelay=(i.isOpen?a:r.length-a)+"ms",t.zIndex=r.length-e+o})}return{addClass:function(n,e,t){i(n),a(t)},removeClass:function(n,e,t){i(n),a(t)}}}angular.module("material.components.fabSpeedDial",["material.core","material.components.fabShared","material.components.fabActions"]).directive("mdFabSpeedDial",function(){return{restrict:"E",scope:{direction:"@?mdDirection",isOpen:"=?mdOpen"},bindToController:!0,controller:"MdFabController",controllerAs:"vm",link:function(n,e){e.prepend('<div class="_md-css-variables"></div>')}}}).animation(".md-fling",n).animation(".md-scale",e).service("mdFabSpeedDialFlingAnimation",n).service("mdFabSpeedDialScaleAnimation",e)}(),ngmaterial.components.fabShared=angular.module("material.components.fabShared");